---

php:
  version: "7.2"
  extensions:
    - php7.2-mysql
    - php7.2-xml
    - php7.2-mbstring
    - php7.2-intl
    - php7.2-gd
    - php7.2-zip
    - php-curl
  pecl_extensions: []
  xdebug: true

apps_symfony:
  symfony3:
    name: symfony3
    path: /var/www/symfony3
    owner: vagrant
    group: vagrant
    https: true
    server_name: symfony3
    mysql_database: symfony3
    mysql_user: symfony3
    mysql_password: 12345
    new: true
    symfony_version: 3.4

local_deploy:
  apps:
    symfony3:
      path: /var/www/symfony3
      repo:
      templates:
        - {src: "{{ playbook_dir }}/templates/parameters.yml.tpl", dest: /var/www/symfony3/app/config/parameters.yml}
      composer: true
      writable_resources: [var/cache, var/logs, var/sessions, web/bundles]
      on_finalize_hook: "{{ playbook_dir }}/deploy_hooks/on_finalize.yml"
      post_finalize_hook: "{{ playbook_dir }}/deploy_hooks/post_finalize.yml"
      custom_data: {database_name: symfony3, database_user: symfony3, database_password: 12345}
